<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: inputType/PanInput.js | egjs::axes - API</title>
    
    <meta name="description" content="A module used to change the information of user action entered by various input devices such as touch screen or mouse into the logical virtual coordinates. You can easily create a UI that responds to user actions." />
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <link rel="canonical" href="http://naver.github.io/egjs-axes/release/latest/doc/"/>
    
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"eg.Axes","disqus":"egjs","googleAnalytics":"UA-70842526-16","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"egjs::axes - API","description":"A module used to change the information of user action entered by various input devices such as touch screen or mouse into the logical virtual coordinates. You can easily create a UI that responds to user actions.","keyword":""},"linenums":true,"link":{"canonical":"http://naver.github.io/egjs-axes/release/latest/doc/"}};
    </script>
    

    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', config.googleAnalytics]);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName">
        <a href="//naver.github.io/egjs/"><img style="width:40px; height:20px;" src="img/type_white.svg"/></a>

        <!-- Homepage link (prefer link.home than applicationName) -->
        
        <a href="//naver.github.io/egjs-axes/">Axes</a>
        
    </h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
        <li class="item">
            <span class="title">
                <a href="index.html">README</a>
            </span>
        </li>
    
        <!-- Non Grouping Version -->
        
            

<li class="item" data-name="eg.Axes">
    <span class="title">
        <a href="eg.Axes.html">eg.Axes</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    <span class="subtitle">Members</span>
    
        <li data-name="eg.Axes.DIRECTION_ALL"><a href="eg.Axes.html#.DIRECTION_ALL">DIRECTION_ALL</a></li>
    
        <li data-name="eg.Axes.DIRECTION_DOWN"><a href="eg.Axes.html#.DIRECTION_DOWN">DIRECTION_DOWN</a></li>
    
        <li data-name="eg.Axes.DIRECTION_HORIZONTAL"><a href="eg.Axes.html#.DIRECTION_HORIZONTAL">DIRECTION_HORIZONTAL</a></li>
    
        <li data-name="eg.Axes.DIRECTION_LEFT"><a href="eg.Axes.html#.DIRECTION_LEFT">DIRECTION_LEFT</a></li>
    
        <li data-name="eg.Axes.DIRECTION_NONE"><a href="eg.Axes.html#.DIRECTION_NONE">DIRECTION_NONE</a></li>
    
        <li data-name="eg.Axes.DIRECTION_RIGHT"><a href="eg.Axes.html#.DIRECTION_RIGHT">DIRECTION_RIGHT</a></li>
    
        <li data-name="eg.Axes.DIRECTION_UP"><a href="eg.Axes.html#.DIRECTION_UP">DIRECTION_UP</a></li>
    
        <li data-name="eg.Axes.DIRECTION_VERTICAL"><a href="eg.Axes.html#.DIRECTION_VERTICAL">DIRECTION_VERTICAL</a></li>
    
        <li data-name="eg.Axes.TRANSFORM"><a href="eg.Axes.html#.TRANSFORM">TRANSFORM</a></li>
    
        <li data-name="eg.Axes.VERSION"><a href="eg.Axes.html#.VERSION">VERSION</a></li>
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes#connect"><a href="eg.Axes.html#connect">connect</a></li>
    
        <li data-name="eg.Axes#destroy"><a href="eg.Axes.html#destroy">destroy</a></li>
    
        <li data-name="eg.Axes#disconnect"><a href="eg.Axes.html#disconnect">disconnect</a></li>
    
        <li data-name="eg.Axes#get"><a href="eg.Axes.html#get">get</a></li>
    
        <li data-name="eg.Axes#isBounceArea"><a href="eg.Axes.html#isBounceArea">isBounceArea</a></li>
    
        <li data-name="eg.Axes#setBy"><a href="eg.Axes.html#setBy">setBy</a></li>
    
        <li data-name="eg.Axes#setTo"><a href="eg.Axes.html#setTo">setTo</a></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    <span class="subtitle">Events</span>
    
        <li data-name="eg.Axes#event:animationEnd"><a href="eg.Axes.html#event:animationEnd">animationEnd</a></li>
    
        <li data-name="eg.Axes#event:animationStart"><a href="eg.Axes.html#event:animationStart">animationStart</a></li>
    
        <li data-name="eg.Axes#event:change"><a href="eg.Axes.html#event:change">change</a></li>
    
        <li data-name="eg.Axes#event:finish"><a href="eg.Axes.html#event:finish">finish</a></li>
    
        <li data-name="eg.Axes#event:hold"><a href="eg.Axes.html#event:hold">hold</a></li>
    
        <li data-name="eg.Axes#event:release"><a href="eg.Axes.html#event:release">release</a></li>
    
    </ul>

    
</li>

        
            

<li class="item" data-name="eg.Axes.MoveKeyInput">
    <span class="title">
        <a href="eg.Axes.MoveKeyInput.html">eg.Axes.MoveKeyInput</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes.MoveKeyInput#destroy"><a href="eg.Axes.MoveKeyInput.html#destroy">destroy</a></li>
    
        <li data-name="eg.Axes.MoveKeyInput#disable"><a href="eg.Axes.MoveKeyInput.html#disable">disable</a></li>
    
        <li data-name="eg.Axes.MoveKeyInput#enable"><a href="eg.Axes.MoveKeyInput.html#enable">enable</a></li>
    
        <li data-name="eg.Axes.MoveKeyInput#isEnable"><a href="eg.Axes.MoveKeyInput.html#isEnable">isEnable</a></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    </ul>

    
</li>

        
            

<li class="item" data-name="eg.Axes.PanInput">
    <span class="title">
        <a href="eg.Axes.PanInput.html">eg.Axes.PanInput</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes.PanInput#destroy"><a href="eg.Axes.PanInput.html#destroy">destroy</a></li>
    
        <li data-name="eg.Axes.PanInput#disable"><a href="eg.Axes.PanInput.html#disable">disable</a></li>
    
        <li data-name="eg.Axes.PanInput#enable"><a href="eg.Axes.PanInput.html#enable">enable</a></li>
    
        <li data-name="eg.Axes.PanInput#isEnable"><a href="eg.Axes.PanInput.html#isEnable">isEnable</a></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    </ul>

    
</li>

        
            

<li class="item" data-name="eg.Axes.PinchInput">
    <span class="title">
        <a href="eg.Axes.PinchInput.html">eg.Axes.PinchInput</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes.PinchInput#destroy"><a href="eg.Axes.PinchInput.html#destroy">destroy</a></li>
    
        <li data-name="eg.Axes.PinchInput#disable"><a href="eg.Axes.PinchInput.html#disable">disable</a></li>
    
        <li data-name="eg.Axes.PinchInput#enable"><a href="eg.Axes.PinchInput.html#enable">enable</a></li>
    
        <li data-name="eg.Axes.PinchInput#isEnable"><a href="eg.Axes.PinchInput.html#isEnable">isEnable</a></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    </ul>

    
</li>

        
            

<li class="item" data-name="eg.Axes.RotatePanInput">
    <span class="title">
        <a href="eg.Axes.RotatePanInput.html">eg.Axes.RotatePanInput</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes.RotatePanInput#destroy"><a href="eg.Axes.RotatePanInput.html#destroy">destroy</a> <img src="img/i.png" width="14" title="inherited" alt="inherited"></li>
    
        <li data-name="eg.Axes.RotatePanInput#disable"><a href="eg.Axes.RotatePanInput.html#disable">disable</a> <img src="img/i.png" width="14" title="inherited" alt="inherited"></li>
    
        <li data-name="eg.Axes.RotatePanInput#enable"><a href="eg.Axes.RotatePanInput.html#enable">enable</a> <img src="img/i.png" width="14" title="inherited" alt="inherited"></li>
    
        <li data-name="eg.Axes.RotatePanInput#isEnable"><a href="eg.Axes.RotatePanInput.html#isEnable">isEnable</a> <img src="img/i.png" width="14" title="inherited" alt="inherited"></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    </ul>

    
</li>

        
            

<li class="item" data-name="eg.Axes.WheelInput">
    <span class="title">
        <a href="eg.Axes.WheelInput.html">eg.Axes.WheelInput</a>
        
    </span>
    <ul class="members itemMembers expends">
    
    </ul>
    <ul class="typedefs itemMembers expends">
    
    </ul>
    <ul class="methods itemMembers expends">
    
    <span class="subtitle">Methods</span>
    
        <li data-name="eg.Axes.WheelInput#destroy"><a href="eg.Axes.WheelInput.html#destroy">destroy</a></li>
    
        <li data-name="eg.Axes.WheelInput#disable"><a href="eg.Axes.WheelInput.html#disable">disable</a></li>
    
        <li data-name="eg.Axes.WheelInput#enable"><a href="eg.Axes.WheelInput.html#enable">enable</a></li>
    
        <li data-name="eg.Axes.WheelInput#isEnable"><a href="eg.Axes.WheelInput.html#isEnable">isEnable</a></li>
    
    </ul>
    <ul class="events itemMembers expends">
    
    </ul>

    
</li>

        
    
    </ul>
</div>

    <div class="main">
        <h1 class="page-title" data-filename="inputType_PanInput.js.html">Source: inputType/PanInput.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var __assign = (this &amp;&amp; this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i &lt; n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
import { DIRECTION_ALL, DIRECTION_HORIZONTAL, DIRECTION_NONE, DIRECTION_VERTICAL, Manager, Pan } from "@egjs/hammerjs";
import { $ } from "../utils";
import { convertInputType, createHammer, toAxis, UNIQUEKEY } from "./InputType";
import { IS_IOS_SAFARI, IOS_EDGE_THRESHOLD } from "../const";
// get user's direction
export function getDirectionByAngle(angle, thresholdAngle) {
    if (thresholdAngle &lt; 0 || thresholdAngle > 90) {
        return DIRECTION_NONE;
    }
    var toAngle = Math.abs(angle);
    return toAngle > thresholdAngle &amp;&amp; toAngle &lt; 180 - thresholdAngle ?
        DIRECTION_VERTICAL : DIRECTION_HORIZONTAL;
}
export function getNextOffset(speeds, deceleration) {
    var normalSpeed = Math.sqrt(speeds[0] * speeds[0] + speeds[1] * speeds[1]);
    var duration = Math.abs(normalSpeed / -deceleration);
    return [
        speeds[0] / 2 * duration,
        speeds[1] / 2 * duration,
    ];
}
export function useDirection(checkType, direction, userDirection) {
    if (userDirection) {
        return !!((direction === DIRECTION_ALL) ||
            ((direction &amp; checkType) &amp;&amp; (userDirection &amp; checkType)));
    }
    else {
        return !!(direction &amp; checkType);
    }
}
/**
 * @typedef {Object} PanInputOption The option object of the eg.Axes.PanInput module.
 * @ko eg.Axes.PanInput 모듈의 옵션 객체
 * @property {String[]} [inputType=["touch","mouse", "pointer"]] Types of input devices.&lt;br>- touch: Touch screen&lt;br>- mouse: Mouse &lt;ko>입력 장치 종류.&lt;br>- touch: 터치 입력 장치&lt;br>- mouse: 마우스&lt;/ko>
 * @property {Number[]} [scale] Coordinate scale that a user can move&lt;ko>사용자의 동작으로 이동하는 좌표의 배율&lt;/ko>
 * @property {Number} [scale.0=1] horizontal axis scale &lt;ko>수평축 배율&lt;/ko>
 * @property {Number} [scale.1=1] vertical axis scale &lt;ko>수직축 배율&lt;/ko>
 * @property {Number} [thresholdAngle=45] The threshold value that determines whether user action is horizontal or vertical (0~90) &lt;ko>사용자의 동작이 가로 방향인지 세로 방향인지 판단하는 기준 각도(0~90)&lt;/ko>
 * @property {Number} [threshold=0] Minimal pan distance required before recognizing &lt;ko>사용자의 Pan 동작을 인식하기 위해산 최소한의 거리&lt;/ko>
 * @property {Number} [iOSEdgeSwipeThreshold=30] Area (px) that can go to the next page when swiping the right edge in iOS safari &lt;ko>iOS Safari에서 오른쪽 엣지를 스와이프 하는 경우 다음 페이지로 넘어갈 수 있는 영역(px)&lt;/ko>
 * @property {Object} [hammerManagerOptions={cssProps: {userSelect: "none",touchSelect: "none",touchCallout: "none",userDrag: "none"}] Options of Hammer.Manager &lt;ko>Hammer.Manager의 옵션&lt;/ko>
**/
/**
 * @class eg.Axes.PanInput
 * @classdesc A module that passes the amount of change to eg.Axes when the mouse or touchscreen is down and moved. use less than two axes.
 * @ko 마우스나 터치 스크린을 누르고 움직일때의 변화량을 eg.Axes에 전달하는 모듈. 두개 이하의 축을 사용한다.
 *
 * @example
 * const pan = new eg.Axes.PanInput("#area", {
 * 		inputType: ["touch"],
 * 		scale: [1, 1.3],
 * });
 *
 * // Connect the 'something2' axis to the mouse or touchscreen x position when the mouse or touchscreen is down and moved.
 * // Connect the 'somethingN' axis to the mouse or touchscreen y position when the mouse or touchscreen is down and moved.
 * axes.connect(["something2", "somethingN"], pan); // or axes.connect("something2 somethingN", pan);
 *
 * // Connect only one 'something1' axis to the mouse or touchscreen x position when the mouse or touchscreen is down and moved.
 * axes.connect(["something1"], pan); // or axes.connect("something1", pan);
 *
 * // Connect only one 'something2' axis to the mouse or touchscreen y position when the mouse or touchscreen is down and moved.
 * axes.connect(["", "something2"], pan); // or axes.connect(" something2", pan);
 *
 * @param {HTMLElement|String|jQuery} element An element to use the eg.Axes.PanInput module &lt;ko>eg.Axes.PanInput 모듈을 사용할 엘리먼트&lt;/ko>
 * @param {PanInputOption} [options] The option object of the eg.Axes.PanInput module&lt;ko>eg.Axes.PanInput 모듈의 옵션 객체&lt;/ko>
 */
var PanInput = /** @class */ (function () {
    function PanInput(el, options) {
        this.axes = [];
        this.hammer = null;
        this.element = null;
        this.panRecognizer = null;
        this.isRightEdge = false;
        this.rightEdgeTimer = 0;
        this.panFlag = false;
        /**
         * Hammer helps you add support for touch gestures to your page
         *
         * @external Hammer
         * @see {@link http://hammerjs.github.io|Hammer.JS}
         * @see {@link http://hammerjs.github.io/jsdoc/Hammer.html|Hammer.JS API documents}
         * @see Hammer.JS applies specific CSS properties by {@link http://hammerjs.github.io/jsdoc/Hammer.defaults.cssProps.html|default} when creating an instance. The eg.Axes module removes all default CSS properties provided by Hammer.JS
         */
        if (typeof Manager === "undefined") {
            throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");
        }
        this.element = $(el);
        this.options = __assign({ inputType: ["touch", "mouse", "pointer"], scale: [1, 1], thresholdAngle: 45, threshold: 0, iOSEdgeSwipeThreshold: IOS_EDGE_THRESHOLD, releaseOnScroll: false, hammerManagerOptions: {
                // css properties were removed due to usablility issue
                // http://hammerjs.github.io/jsdoc/Hammer.defaults.cssProps.html
                cssProps: {
                    userSelect: "none",
                    touchSelect: "none",
                    touchCallout: "none",
                    userDrag: "none",
                },
            } }, options);
        this.onHammerInput = this.onHammerInput.bind(this);
        this.onPanmove = this.onPanmove.bind(this);
        this.onPanend = this.onPanend.bind(this);
    }
    PanInput.prototype.mapAxes = function (axes) {
        var useHorizontal = !!axes[0];
        var useVertical = !!axes[1];
        if (useHorizontal &amp;&amp; useVertical) {
            this._direction = DIRECTION_ALL;
        }
        else if (useHorizontal) {
            this._direction = DIRECTION_HORIZONTAL;
        }
        else if (useVertical) {
            this._direction = DIRECTION_VERTICAL;
        }
        else {
            this._direction = DIRECTION_NONE;
        }
        this.axes = axes;
    };
    PanInput.prototype.connect = function (observer) {
        var hammerOption = {
            direction: this._direction,
            threshold: this.options.threshold,
        };
        if (this.hammer) { // for sharing hammer instance.
            // hammer remove previous PanRecognizer.
            this.removeRecognizer();
            this.dettachEvent();
        }
        else {
            var keyValue = this.element[UNIQUEKEY];
            if (!keyValue) {
                keyValue = String(Math.round(Math.random() * new Date().getTime()));
            }
            var inputClass = convertInputType(this.options.inputType);
            if (!inputClass) {
                throw new Error("Wrong inputType parameter!");
            }
            this.hammer = createHammer(this.element, __assign({
                inputClass: inputClass,
            }, this.options.hammerManagerOptions));
            this.element[UNIQUEKEY] = keyValue;
        }
        this.panRecognizer = new Pan(hammerOption);
        this.hammer.add(this.panRecognizer);
        this.attachEvent(observer);
        return this;
    };
    PanInput.prototype.disconnect = function () {
        this.removeRecognizer();
        if (this.hammer) {
            this.dettachEvent();
        }
        this._direction = DIRECTION_NONE;
        return this;
    };
    /**
    * Destroys elements, properties, and events used in a module.
    * @ko 모듈에 사용한 엘리먼트와 속성, 이벤트를 해제한다.
    * @method eg.Axes.PanInput#destroy
    */
    PanInput.prototype.destroy = function () {
        this.disconnect();
        if (this.hammer &amp;&amp; this.hammer.recognizers.length === 0) {
            this.hammer.destroy();
        }
        delete this.element[UNIQUEKEY];
        this.element = null;
        this.hammer = null;
    };
    /**
     * Enables input devices
     * @ko 입력 장치를 사용할 수 있게 한다
     * @method eg.Axes.PanInput#enable
     * @return {eg.Axes.PanInput} An instance of a module itself &lt;ko>모듈 자신의 인스턴스&lt;/ko>
     */
    PanInput.prototype.enable = function () {
        this.hammer &amp;&amp; (this.hammer.get("pan").options.enable = true);
        return this;
    };
    /**
     * Disables input devices
     * @ko 입력 장치를 사용할 수 없게 한다.
     * @method eg.Axes.PanInput#disable
     * @return {eg.Axes.PanInput} An instance of a module itself &lt;ko>모듈 자신의 인스턴스&lt;/ko>
     */
    PanInput.prototype.disable = function () {
        this.hammer &amp;&amp; (this.hammer.get("pan").options.enable = false);
        return this;
    };
    /**
     * Returns whether to use an input device
     * @ko 입력 장치를 사용 여부를 반환한다.
     * @method eg.Axes.PanInput#isEnable
     * @return {Boolean} Whether to use an input device &lt;ko>입력장치 사용여부&lt;/ko>
     */
    PanInput.prototype.isEnable = function () {
        return !!(this.hammer &amp;&amp; this.hammer.get("pan").options.enable);
    };
    PanInput.prototype.removeRecognizer = function () {
        if (this.hammer &amp;&amp; this.panRecognizer) {
            this.hammer.remove(this.panRecognizer);
            this.panRecognizer = null;
        }
    };
    PanInput.prototype.onHammerInput = function (event) {
        if (this.isEnable()) {
            if (event.isFirst) {
                this.panFlag = false;
                if (event.srcEvent.cancelable !== false) {
                    var edgeThreshold = this.options.iOSEdgeSwipeThreshold;
                    this.observer.hold(this, event);
                    this.isRightEdge = IS_IOS_SAFARI &amp;&amp; event.center.x > window.innerWidth - edgeThreshold;
                    this.panFlag = true;
                }
            }
            else if (event.isFinal) {
                this.onPanend(event);
            }
        }
    };
    PanInput.prototype.onPanmove = function (event) {
        var _this = this;
        if (!this.panFlag) {
            return;
        }
        var _a = this.options, iOSEdgeSwipeThreshold = _a.iOSEdgeSwipeThreshold, releaseOnScroll = _a.releaseOnScroll;
        var userDirection = getDirectionByAngle(event.angle, this.options.thresholdAngle);
        // not support offset properties in Hammerjs - start
        var prevInput = this.hammer.session.prevInput;
        if (releaseOnScroll &amp;&amp; !event.srcEvent.cancelable) {
            this.onPanend(__assign(__assign({}, event), { velocityX: 0, velocityY: 0, offsetX: 0, offsetY: 0 }));
            return;
        }
        if (prevInput &amp;&amp; IS_IOS_SAFARI) {
            var swipeLeftToRight = event.center.x &lt; 0;
            if (swipeLeftToRight) {
                // iOS swipe left => right
                this.onPanend(__assign(__assign({}, prevInput), { velocityX: 0, velocityY: 0, offsetX: 0, offsetY: 0 }));
                return;
            }
            else if (this.isRightEdge) {
                clearTimeout(this.rightEdgeTimer);
                // - is right to left
                var swipeRightToLeft = event.deltaX &lt; -iOSEdgeSwipeThreshold;
                if (swipeRightToLeft) {
                    this.isRightEdge = false;
                }
                else {
                    // iOS swipe right => left
                    this.rightEdgeTimer = window.setTimeout(function () {
                        _this.onPanend(__assign(__assign({}, prevInput), { velocityX: 0, velocityY: 0, offsetX: 0, offsetY: 0 }));
                    }, 100);
                }
            }
        }
        /* eslint-disable no-param-reassign */
        if (prevInput) {
            event.offsetX = event.deltaX - prevInput.deltaX;
            event.offsetY = event.deltaY - prevInput.deltaY;
        }
        else {
            event.offsetX = 0;
            event.offsetY = 0;
        }
        var offset = this.getOffset([event.offsetX, event.offsetY], [
            useDirection(DIRECTION_HORIZONTAL, this._direction, userDirection),
            useDirection(DIRECTION_VERTICAL, this._direction, userDirection),
        ]);
        var prevent = offset.some(function (v) { return v !== 0; });
        if (prevent) {
            var srcEvent = event.srcEvent;
            if (srcEvent.cancelable !== false) {
                srcEvent.preventDefault();
            }
            srcEvent.stopPropagation();
        }
        event.preventSystemEvent = prevent;
        prevent &amp;&amp; this.observer.change(this, event, toAxis(this.axes, offset));
    };
    PanInput.prototype.onPanend = function (event) {
        if (!this.panFlag) {
            return;
        }
        clearTimeout(this.rightEdgeTimer);
        this.panFlag = false;
        var offset = this.getOffset([
            Math.abs(event.velocityX) * (event.deltaX &lt; 0 ? -1 : 1),
            Math.abs(event.velocityY) * (event.deltaY &lt; 0 ? -1 : 1),
        ], [
            useDirection(DIRECTION_HORIZONTAL, this._direction),
            useDirection(DIRECTION_VERTICAL, this._direction),
        ]);
        offset = getNextOffset(offset, this.observer.options.deceleration);
        this.observer.release(this, event, toAxis(this.axes, offset));
    };
    PanInput.prototype.attachEvent = function (observer) {
        this.observer = observer;
        this.hammer.on("hammer.input", this.onHammerInput)
            .on("panstart panmove", this.onPanmove);
    };
    PanInput.prototype.dettachEvent = function () {
        this.hammer.off("hammer.input", this.onHammerInput)
            .off("panstart panmove", this.onPanmove);
        this.observer = null;
    };
    PanInput.prototype.getOffset = function (properties, direction) {
        var offset = [0, 0];
        var scale = this.options.scale;
        if (direction[0]) {
            offset[0] = (properties[0] * scale[0]);
        }
        if (direction[1]) {
            offset[1] = (properties[1] * scale[1]);
        }
        return offset;
    };
    return PanInput;
}());
export { PanInput };
//# sourceMappingURL=PanInput.js.map</code></pre>
        </article>
    </section>






        
        <!-- disqus code -->
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <!-- // disqus code -->
        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Fri Nov 11 2022 03:36:08 GMT+0900 (대한민국 표준시)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/main.js"></script>
</body>
</html>
